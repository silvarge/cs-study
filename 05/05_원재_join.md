# Join
- 두 개 이상의 테이블을 특정 조건으로 합치는 것
- join 키워드 사용
- 내부 조인과 외부 조인으로 나뉨

## 내부 조인
- 조인 조건에 일치하는 레코드만 반환함
- 조인 연산을 할 때 on 조건에 따라 조인 연산을 수행
- where 절로 조건을 적용하는 것과 동일한 결과.  

```sql
Select * from student join takes on student.ID = takes.ID;
```
## 외부 조인
- 외부 조인은 조인 연산에서 값이 매치되지 않아 손실되는 정보를 유지하려고 하는 연산
- 조인 연산 수행 후, 제외된 레코드의 비어있는 속성을 null로 채우고 결과에 포함

종류
- left outer join: 조인 연산의 왼쪽에 있는 테이블의 튜플만 보존
- right outer join: 조인 연산의 오른쪽에 있는 테이블의 튜플만 보존
- full outer join: 모든 테이블의 튜플 보존  

```sql
--왼쪽 외부 조인
Select * from student left join takes on student.ID = takes.ID;

--오른쪽 외부 조인 
Select * from student right join takes on student.ID = takes.ID;

--전체 외부 조인
Select * from student full outer join takes on student.ID = takes.ID;
```

## 처리 방법

### 중첩 루프 조인

- 단순히 중첩 for문과 같은 방식으로 처리
- 외부 테이블의 각각의 레코드에 대해 내부 테이블의 레코드를 스캔하여 조건이 맞는 레코드만 가져옴
- 레코드의 수가 적으면 빠르지만, 레코드가 많아지면 성능이 떨어짐
- 레코드가 아닌 I/O 연산이 일어나는 블록 단위로 나누어서 조인하는 블록 중첩 루프 조인도 있음

### 정렬 병합 조인

- 테이블을 먼저 정렬한 후에 병합하면서 처리함
- 먼저 조인 키를 기준으로 정렬한 후에 각 테이블마다 포인터를 할당함
- 포인터가 가리키는 값이 같으면 조인을 수행하고 다르다면 값이 작은 포인터를 다음 레코드로 포인터를 이동시켜 비교함
- 대용량의 테이블을 조인할 때 성능이 좋고 범위 기반 조인도 처리할 수 있음
- 하지만 미리 정렬을 해놓아야 하기 때문에 정렬 비용이 추가로 든다는 점과 동동 조인 성능은 해시 조인에 비해 떨어짐

## 해시 조인

- 해시를 이용해 조인하는 방법
- 작은 테이블을 조인 조건으로 해시하고, 메모리에 해시 테이블을 생성함
- 큰 테이블을 읽으며 같은 해시값을 가지는 버킷에서만 데이터를 찾아서 조인
- 데이터를 정렬할 필요가 없으며 동등 조인 처리 성능이 빠름
- 메모리에 해시 테이블을 올려야 하기 때문에 메모리 사용량이 높고 범위 조인에 사용할 수 없음